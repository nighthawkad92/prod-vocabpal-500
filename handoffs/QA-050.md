# Handoff: QA-050 Phased 500-Student Load Track

## 1. Metadata
1. Task ID: QA-050
2. Title: Implement phased 500-student load validation track with thresholds and weekly cadence
3. Owner Agent: QA
4. Handoff Date: 2026-02-25
5. Proposed Next State: `REVIEW`

## 2. Summary of Work
1. What was completed:
1. Implemented `qa/load_profile_500.mjs` with configurable concurrency, threshold checks, and synthetic archive cleanup.
2. Added weekly load workflow `.github/workflows/qa-weekly-load.yml` with 500-student settings.
3. Added local command entrypoint `npm run qa:load-500`.
4. Ran a scaled validation sample (`60 students / concurrency 30`) to verify reporting and thresholds.
2. What was intentionally not done:
1. no full 500 live run from local shell (left to scheduled CI cadence).

## 3. Files and Artifacts
1. Files changed:
1. `package.json`
2. New files:
1. `qa/load_profile_500.mjs`
2. `.github/workflows/qa-weekly-load.yml`
3. `handoffs/QA-050.md`
3. Commands executed:
1. `APP_URL=https://vocabpal.xyz ... QA_LOAD_TOTAL_STUDENTS=60 QA_LOAD_CONCURRENCY=30 npm run qa:load-500`

## 4. Validation Evidence
1. Tests run:
1. scaled load-profile run (60 synthetic students).
2. Test results:
1. `qa/reports/latest_load_profile_500.json` generated successfully.
2. Result status: `failed` due strict `startP95` threshold breach (`3232ms > 2500ms`) with zero operation errors.
3. Manual checks:
1. archive cleanup and invariant checks passed; threshold policy behaved as designed.

## 5. Downstream Impact
1. Tasks unblocked:
1. `PM-QA-015`
2. Interfaces changed:
1. weekly load report artifacts added under `qa/reports/`.
3. Migration or deployment impacts:
1. weekly workflow requires existing APP_URL/SUPABASE/TEACHER secrets.

## 6. Open Issues
1. Known issues:
1. current threshold budget may be aggressive for start-attempt p95 under concurrent load.
2. Risks:
1. strict threshold can flag NO-GO even when error rate is zero.
3. Follow-up required:
1. run scheduled full 500-profile and calibrate threshold budget with PM/Backend if needed.

## 7. Requested PM Action
1. Mark as `DONE`
2. Return to `RUNNING` with rework scope
3. Move to `BLOCKED` pending checkpoint id
